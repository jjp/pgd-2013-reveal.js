<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>PhoneGap Self-Defense for Web Devs — PhoneGap Day US 2013</title>

		<meta name="description" content="Phone Gap Self-defense for Web Devs">
		<meta name="author" content="Lyza Danger Gardner">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h1>Phone Gap Self-defense for Web Devs</h1>
					<h3>What could possibly go wrong?</h3>
					<p>
						<small>Made by Lyza Danger Gardner</small>
					</p>
				</section>

				<section>
					<section>
						<h2>Let's Start from the Top</h2>
						<p>I'm a web developer. So when I first saw:</p>
						<blockquote cite="http://phonegap.com/">&ldquo;PhoneGap is a free and open source framework that allows you to create mobile 	apps using standardized web APIs for the platforms you care about.&rdquo;</blockquote>
						<aside class="notes">When I first met PhoneGap, I was all won over by its goals.</aside>
					</section>
					<section>
						<h3>Aw, hell yeah</h3>
						<p><em>This is for <strong>me</strong></em>!</p>
						<aside class="notes">I'm a web developer who loves mobile and, wow, this is going to be just my style</aside>
					</section>
				</section>

				<section>
					<section>
					  <h2>Here's how I saw it</h2>
						<ul>
							<li class="fragment">PhoneGap is the Web!</li>
							<li class="fragment">I can use the Web!</li>
							<li class="fragment">I <em>love</em> the Web!</li>
							<li class="fragment">This is going to be pretty great!</li>
						</ul>
					</section>
					<section>
						<blockquote cite="http://phonegap.com/2012/05/09/phonegap-beliefs-goals-and-philosophy/">&ldquo;The ultimate purpose of PhoneGap is to cease to exist&rdquo;</blockquote>
						<p>Brian LeRoux</p>
						<aside class="notes">I think it was this stated goal of PhoneGap from early on that really made me infatuated with it</aside>
					</section>
					<section>
						<h3>Ooooooh.</h3>
						<aside class="notes">The idea of the web as a uniting, first-class platform for making apps, using standards. And PhoneGap would simply, gently step aside when it wasn't needed anymore. Hot damn.</aside>
					</section>
				</section>

				<section>
					<section>
						<h4>Granted, there were some quiet voices in my head</h4>
					</section>
					<section>
						<h4>Maybe a totally web-centric view of things could lead to some woes...</h4>
					</section>
					<section>
						<h4>After all, we're not just shoving a web site into an app...</h4>
					</section>
					<section>
						<blockquote cite="http://phonegap.com/2012/05/09/phonegap-beliefs-goals-and-philosophy/">&ldquo;The web is decidedly not a first class development platform: opaque introspection, blunt tools, poor API surface area, and a rather limited set of GUI elements. The web has host of other problems...there are no silver bullets&rdquo;
							<cite>Brian LeRoux</cite>

						</blockquote>
						<aside class="notes">At the same time...not a first-class...blunt...poor...limited...problems...no silver bullet. Crap.</aside>
					</section>
					<section>
						<small><em>Oh.</em></small>
					</section>
				</section>

				<!-- So, what am I after? -->

				<section>
					<section>
						<h2>Bravely Onward, O Web Developers!</h2>
						<aside class="notes">But no matter! This is going to be awesome</aside>
					</section>
					<section>
						<h4>Things are going pretty great!</h4>
						<aside class="notes">I have embarked on my new career as an app builder</aside>
					</section>
					<section>
						<h3>My Li'l First PhoneGap Project!(tm)</h3>
						<ol>
							<li class="fragment">Set up my project in XCode!</li>
							<li class="fragment">Drop PhoneGap in!</li>
							<li class="fragment">Add a simple plugin!</li>
							<li class="fragment">Build!</li>
							<li class="fragment">Everything works! I AM APP DEVELOPER!</li>
						</ol>
					</section>
					<section>
						<p>It's pretty great!</p>
						<p class="fragment roll-in">...at first</p>
					</section>
				</section>

				<section>
					<section>
					  <h2>Where we* go wrong</h2>
					  <p><small>* We = web developers</small></p>
					</section>
					<section>
						<h3>Core Web Concepts</h3>
						<p>Adherence to certain core web <span class="fragment highlight-red">concepts</span> can get us in trouble. Some things we have long held to be Absolutely The Way are different in the app world, subtlely or extremely.</p>
						<aside class="notes">I'm not talking about web <em>standards</em>, I'm talking about web <em>concepts</em>.</aside>
					</section>
					<section>
						<h3>Nuance and Best Practices</h3>
						<p>Like it or not, we're <span class="fragment highlight-red">on device</span> in a <span class="fragment highlight-red">native context</span>.</p>
						<aside class="notes">On more than likely a <em>specific</em> device or devices. And because of that, we're beholden...</aside>
					</section>
					<section>
						<h3>Process, Components and Tools</h3>
						<ul>
							<li class="fragment">A simple text editor won't get you all the way there</li>
							<li class="fragment">You have to build this thing</li>
							<li class="fragment">...and you have to decide what to build it <em>with</em></li>
							<li class="fragment">Also, testing is hard</li>
						</ul>
					</section>
					<section>
						<h3>Complexity</h3>
						<p>And these problems <span class="fragment highlight-red">compound</span> as your app grows.</p>
						<aside class="notes">So, get out in front of it</aside>
					</section>
				</section>

				<section>
					<h1>A bit of self-defense</h1>
					<aside class="notes">Learning to apply web concepts in a different metaphor</aside>
				</section>

				<section>
					<h2>Defending yourself</h2>
					<h3>Certain Web Concepts Fall Down a bit</h3>
				</section>

				<section>
					<section data-transition="fade">
						<h2>In My Brain The Web &asymp;</h2>
						<h3 class="fragment">TCP/IP</h3>
						<h3 class="fragment">+</h3>
						<h3 class="fragment">HTTP</h3>
						<h3 class="fragment">+</h3>
					  <h3 class="fragment">User Agent</h3>
					</section>
					<section data-transition="none">
						<h2>&nbsp;</h2>
						<h3>&nbsp;</h3>
						<h3>&nbsp;</h3>
						<h3>HTTP</h3>
						<h3 class="fragment">HTTP is a <span class="fragment highlight-red">stateless</span> protocol.</h3>
						<h3>&nbsp;</h3>
					</section>
					<section data-transition="zoom">
						<h3>State<span class="fragment fade-out">less</span></h3>
						<p class="fragment">In the application context—especially the non-browser context—we suddenly have state. In spades. To manage.</p>
						<aside class="notes">Application lifecycle is no longer such a simple, stateless, request-response story. Instead we're managing the application over time...</aside>
					</section>

					<section>
						<h4>Yeah, yeah, yeah</h4>
						<div class="fragment">
							<h3>Welcome to JavaScript Applications</h3>
							<p>This isn't exactly a brand-new concern.</p>
							<p>But it is intensified in the native application context.</p>
							<p>And I urge you to sit down and give it a bit of a think.</p>
						</div>
					</section>

					<section>
						<h3>Im doin it rong</h3>
						<p><em>e.g.</em></p>
						<blockquote cite="http://lostechies.com/derickbailey/2011/08/03/stop-using-backbone-as-if-it-were-a-stateless-web-server/">Stop using backbone as it were a stateless web server.
							<cite><a href="http://lostechies.com/derickbailey/2011/08/03/stop-using-backbone-as-if-it-were-a-stateless-web-server/">Derick Bailey</a></cite>
					 </blockquote>
						<aside class="notes">What does he mean by this? The over-reliance on routes and actually, as such, <em>navigating</em> to things.</aside>
					</section>

					<section>
						<h3>So what should we be doing about it?</h3>
						<h5>(Having a bit of a think)</h5>
					</section>

					<section>
						<h3>Think through the lifecycle</h3>
						<p>Know your events and how the app will live in its context</p>
						<p>
							<pre><code data-trim contenteditable>
// Hold that thought
document.addEventListener("pause", hangOnForAWhile, false);
// Oh, we're back!
document.addEventListener("resume", ohGodWhereWasI, false);
						  </pre></code>
					  </p>
					</section>

					<section>
						<h3>Differentiate between URL-addressable state history and routing</h3>
						<p>You can push things into state history without actually routing.</p>
						<aside class="notes">A compromise between URL-addressable places in state history and maintaining state for now</aside>
					</section>

				</section>

				<section>
					<section>
						<h2>Persistence and Data</h2>
						<p>It's not just for web servers anymore</p>
					</section>
					<section>
						<h3>The Old Way</h3>
						<dl>
							<dt>Application</dt>
							<dd>Hay, API on server, tell me about <code>thing/42</code></dd>

							<dt>API</dt>
							<dd>Sure, here you go!</dd>

							<dt>Application</dt>
							<dd>Thanks! I'd be helpless without you!</dd>
						</dl>
					</section>
					<section>
						<h3>A Modern Interpretation</h3>
						<dl>
							<dt>Application</dt>
							<dd>Actually, API, I already have my own version of what <code>thing/42</code> looks like.</dd>
						
							<dt>API</dt>
							<dd>...</dd>

							<dt>Application</dt>
							<dd>...So, API, my version of what <code>thing/42</code> looks like has changed a bit while we weren't talking while my user was going through that last tunnel? Anyway, here's a patch of what I changed. Deal with it.</dd>

							<dt>API</dt>
							<dd>!!</dd>
						</dl>
					</section>

					<section>
						<h3>The Client Has to Wrangle Data</h3>
						<ul>
							<li>Caching</li>
							<li>Synching</li>
							<li>Offline mode</li>
						</ul>
					</section>

					<section>
						<h3>So what should we be doing about it?</h3>
						<h5>(Having a bit of a think)</h5>
					</section>

					<section>
						<h3>Wrangling Data: Caching</h3>
						<ul>
							<li>Default to keeping stuff locally</li>
							<li>Be mindful of <code>localStorage</code> or other quotas</li>
							<li>Don't <em>depend</em> on <code>localStorage</code></li>
							<li>Lots of stuff? You probably want to use <code><a href="https://developer.mozilla.org/en-US/docs/IndexedDB">IndexedDB</a></code> or something cool like that.</li>
						</ul>
					</section>

					<section>
						<h3>Wrangling Data: Synching</h3>
						<p>Your models are dirty, dirty, dirty</p>
						<ul>
							<li>Synching local dirty data and doing a good job of it is a non-trivial problem</li>
							<li>I'm not smart enough to tackle it myself, so I use things like <code><a href="https://github.com/lucian1900/Backbone.dualStorage">backbone.dualStorage</a></code></li>
							<li>Make it behave RESTfully just like remote sync</li>
							<li>Nervous? You might consider readonly for local</li>
						</ul>
					</section>

					<section>
						<h3>Wrangling Data: Offline Mode</h3>
						<p>Finally a bit of good news: build your data wrangling carefully, and offline mode can follow naturally.</p>
						<p class="fragment">If you want a bit more control:</p>
						<pre class="fragment"><code data-trim contenteditable>
// Hold that thought
document.addEventListener("offline", nobodyIsAnswering, false);
// Oh, we're all talking again!
document.addEventListener("online", hiThereHeresWhatChanged, false);
						 </pre></code>
					  </p>
					 </section>
				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
						## HTML "Documents"
						```
							<!doctype html>
							<html>
							<head>
							  <title>My Really Great Applimacation</title>
							</head>
							<body>
								<!-- The emptiness of my existence is killing me -->
							</body>
							</html>
						```

						I still have some heartache over this.

						</script>
					</section>
				</section>

				<section>
					<h2>Bravely Onward, O Web Developers!</h2>
				</section>

				<section>
					<section>
						<h2>Defending yourself</h2>
						<h3>Nuance and Context</h3>
					</section>
					<section>
						<h3>O, Woe, It's Changed my Reality</h3>
						<blockquote>&ldquo;Blah, blah, blah, <em>user expectations</em>, 
							blah blah blah <em>native metaphors</em>, blah blah blah&rdquo;
							<cite>Everyone</cite></blockquote>
					</section>
					<section>
						<h3>Navigation</h3>
						<ul>
							<li>Navigation is often, by necessity, multi-tracked and non-linear</li>
							<li><code>forward</code> and <code>backward</code> are sometimes not enough</li>
							<li>This ties in with state</li>
						</ul>
					</section>
					<section>
						<h3>Interface</h3>
						<p>Here is one random example of things you now need to know and care about:</p>
						<ul>
							<li>Keyboards
								<ul>
									<li>Soft or hard?</li>
									<li>How to trigger?</li>
									<li>How to get the right one?</li>
									<li>How to make it go away?</li>
									<li>How big is it? How has it affected the viewport?</li>
									<li>How to add a magic-y submit button-y thing</li>
								</ul>
							</li>
						</ul>
					</section>
					<section>
						<h3>MOAR Interface</h3>
						<p>It is up to you, intrepid developer, to make sure that things behave acceptably.</p>
						<p>e.g.</p>
						<ul>
							<li><code><a href="https://github.com/ftlabs/fastclick">fastclick.js</a></code> for eliminating 300ms tap delays</li>
							<li><code><a href="https://github.com/j-mcnally/cordova-statusTap">statusTap</a></code> plugin</li>
							<li>Various plugins for making third-party social authentication tolerable</li>
						</ul>
					</section>

					<section>
						<h3>Lower-level concerns</h3>
					  <p>Long-running native apps emphasize the need for</p>
					  <ul>
					  	<li>Managing memory and watching for leaks</li>
					  	<li>Retaining and managing state</li>
					  	<li>Finicky QA of interface elements</li>
					  </ul>
					 </section>
					<section>
						<h3>Putting it together</h3>
						<ul>
							<li class="fragment roll-in">Non-linear navigation</li>
							<li class="fragment roll-in">Tap delay acceleration</li>
							<li class="fragment roll-in">State management</li>
							<li class="fragment roll-in">Memory management/care</li>
							<li class="fragment roll-in">Platform-specific keyboard optimization</li>
						</ul>
					</section>

				</section>

				<section>
					<video src="assets/navigation.mp4" data-autoplay></video>
				</section>

				<section>
					<section>
						<h2>Defending Yourself</h2>
						<h3>Process, Components and Tools</h3>
					</section>
					<section>
						<h3>Suddenly You Have to Care about a lot of Minutiae</h3>
						<ul>
							<li>Frameworks</li>
							<li>Libraries</li>
							<li>Config</li>
							<li>Build</li>
							<li>SDKs</li>
						</ul>
					</section>
					<section>
						<h3>Your Workflow Matters</h3>
					</section>
					<section>
						<h3>Choosing your stack</h3>
					</section>
					<section>
						<h3>Testing is <em>All</em> Different</h3>
						<ul>
							<li>Testing and debug is light years easier in the browser</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Complexity</h2>
					</section>
					<section>
						<h3>Getting in front of things</h3>
					</section>
					<section>
						<h3>Stay in the browser whenever you can</h3>
					</section>
					<section>
						<h3>Apply Progressive Enhancement Ideals</h3>
							<ul>
								<li>Feature detection carries over to native applications</li>
								<li>There isn't a clear line between browser and native</li>
							</ul>
					</section>
					<section>
						<h3>Assume nothing works until you see it on device</h3>
					</section>
					<section>
						<h3>Keeping your eyes on a few core tenets</h3>
						<p>A lot of this comes down to allotting yourself more time and being gentle with yourself.</p>
					</section>
				</section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme || 'cloudfour-dark', // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				],
				keyboard: {
					48: function() { // Go to first slide when 0 pressed
						Reveal.slide(0);
					}
				}
			});

		</script>

	</body>
</html>
